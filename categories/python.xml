<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>琅環笔记 (关于 python 的文章)</title><link>https://note.tt4e.com/</link><description></description><atom:link href="https://note.tt4e.com/categories/python.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2023 &lt;a href="mailto:xiaoyao@tt4e.com"&gt;逍遥&lt;/a&gt; </copyright><lastBuildDate>Wed, 13 Dec 2023 11:38:14 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>Absolute and Relative Path in Python</title><link>https://note.tt4e.com/posts/absolute-and-relative-path-in-python/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="os-path-isabs"&gt;
&lt;h2&gt;1. os.path.isabs()&lt;/h2&gt;
&lt;p&gt;os.path.isabs() 的行为是：如果路径以 / 开头，或者在非类 Unix 平台上，以盘符跟一个 os.sep 开头，就返回 True；否则，就返回 False&lt;/p&gt;
&lt;p&gt;这里要注意的是在 Windows 上，是支持两种斜线符号的，一种是Windows的斜线，但需要双写以转义 '\'，另一种是类似 Unix 反写 '/'。&lt;/p&gt;
&lt;p&gt;看如下代码，在 Windows 下的返回结果&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code python"&gt;&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;Python&lt;/span&gt; &lt;span class="mf"&gt;3.10.6&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;v3&lt;/span&gt;&lt;span class="mf"&gt;.10.6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="n"&gt;c7b4bd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Aug&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;2022&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;53&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;49&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MSC&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="mf"&gt;.1932&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt; &lt;span class="n"&gt;bit&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AMD64&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;win32&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;Type&lt;/span&gt; &lt;span class="s2"&gt;"help"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"copyright"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"credits"&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;"license"&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;more&lt;/span&gt; &lt;span class="n"&gt;information&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:&lt;/span&gt;&lt;span class="se"&gt;\a&lt;/span&gt;&lt;span class="s1"&gt;bc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 未转义，错误&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9"&gt;&lt;/a&gt;&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17"&gt;&lt;/a&gt;&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;所以说，实际上这个方法在 Windows 并不好用，试着查看源代码，但实现并不是 Python 的，似乎有 macpath,posixpath,ntpath，但 ntpath 在 Windows 上返回就是上述值。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="pathlib-path-is-absolute-windows"&gt;
&lt;h2&gt;2. pathlib.Path().is_absolute() 在 Windows 上更好用&lt;/h2&gt;
&lt;p&gt;实际上判断是否绝对路径时，应该使用以下代码&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code python"&gt;&lt;a id="rest_code_2a2e527627dd464d9fa0b697dd392e43-1" name="rest_code_2a2e527627dd464d9fa0b697dd392e43-1" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_2a2e527627dd464d9fa0b697dd392e43-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt;
&lt;a id="rest_code_2a2e527627dd464d9fa0b697dd392e43-2" name="rest_code_2a2e527627dd464d9fa0b697dd392e43-2" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_2a2e527627dd464d9fa0b697dd392e43-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;pathlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_absolute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;</description><category>path</category><category>python</category><guid>https://note.tt4e.com/posts/absolute-and-relative-path-in-python/</guid><pubDate>Thu, 07 Dec 2023 00:12:45 GMT</pubDate></item></channel></rss>