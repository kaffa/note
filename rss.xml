<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>琅環笔记</title><link>https://note.tt4e.com/</link><description>乐博学强记，尝为鹅厂从事。游于洞宫，遇一人于途，问逍遥曰：“君读书几何？”遥曰：“吾之未读者，则二十年内书盖有之也，若二十年外，则吾固已尽读之矣。”其人论议超然，遥颇内服，相与欢甚。因共至一处，大石中忽然有门，引遥入数歩，则别是天地，宫室嵯峨。引入一室中，陈书满架，其人曰：“此PL史也。”又至一室，则曰：“OS志也。”毎室各有奇书，惟一室屋宇颇高，封识甚严，有二犬守之。遥问故，答曰：“此皆操作系统、编程语言、算法分析、生发正骨诸秘籍。”指二犬曰：“此龙也。”历观诸室书，皆Windows以前事，多所未闻者，如「BeOS」、「Solaris」、「FreeBSD」、「LISP」亦皆在焉。遥心乐之，欲赁住数十日，其人笑曰：“君痴矣。此岂可赁地耶？”即命小童送出，遥问地名，对曰：“琅嬛福地也。”</description><atom:link href="https://note.tt4e.com/rss.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2023 &lt;a href="mailto:xiaoyao@tt4e.com"&gt;逍遥&lt;/a&gt; </copyright><lastBuildDate>Wed, 13 Dec 2023 14:55:07 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>SQLite Error database disk image is malformed by PyCharm</title><link>https://note.tt4e.com/posts/sqlite-error-database-disk-image-is-malformed-by-pycharm/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="tips"&gt;
&lt;h2&gt;大多数 Tips 背后总能找到一个设计错误&lt;/h2&gt;
&lt;p&gt;Tips 之所以让人眼前一亮，那是因为这个 Tips 的结构不寻常。&lt;/p&gt;
&lt;p&gt;大体上，是因为设计者没有想到，或者想到了，但没有设计好导致的。&lt;/p&gt;
&lt;p&gt;比如下面这个：&lt;/p&gt;
&lt;/section&gt;
&lt;section id="database-disk-image-is-malformed"&gt;
&lt;h2&gt;database disk image is malformed&lt;/h2&gt;
&lt;p&gt;SQLite 提示 "database disk image is malformed"&lt;/p&gt;
&lt;p&gt;看起来很惊悚，说是数据库磁盘镜像畸形了。&lt;/p&gt;
&lt;p&gt;第一感觉似乎是磁盘硬件坏道了？&lt;/p&gt;
&lt;/section&gt;
&lt;section id="section-1"&gt;
&lt;h2&gt;问题重现&lt;/h2&gt;
&lt;p&gt;当我在 PyCharm 中选中了项目的根目录后，在菜单 File -&amp;gt; File Properties -&amp;gt; Line Separators 的切换后，SQLite 数据库文件报错了；&lt;/p&gt;
&lt;p&gt;我进行这个操作的主要原因是，每当我添加文件到 git 时，以 LF 为分隔符的 sitemap.xml 文件总是有一个 warning；&lt;/p&gt;
&lt;p&gt;而这个报错的主要原因，被证明是一个 Python 2 的遗留问题导致的。&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code bash"&gt;&lt;a id="rest_code_22fecc18e09f43e592968ee9622f0c0c-1" name="rest_code_22fecc18e09f43e592968ee9622f0c0c-1" href="https://note.tt4e.com/posts/sqlite-error-database-disk-image-is-malformed-by-pycharm/#rest_code_22fecc18e09f43e592968ee9622f0c0c-1"&gt;&lt;/a&gt;&amp;gt;git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;.
&lt;a id="rest_code_22fecc18e09f43e592968ee9622f0c0c-2" name="rest_code_22fecc18e09f43e592968ee9622f0c0c-2" href="https://note.tt4e.com/posts/sqlite-error-database-disk-image-is-malformed-by-pycharm/#rest_code_22fecc18e09f43e592968ee9622f0c0c-2"&gt;&lt;/a&gt;warning:&lt;span class="w"&gt; &lt;/span&gt;LF&lt;span class="w"&gt; &lt;/span&gt;will&lt;span class="w"&gt; &lt;/span&gt;be&lt;span class="w"&gt; &lt;/span&gt;replaced&lt;span class="w"&gt; &lt;/span&gt;by&lt;span class="w"&gt; &lt;/span&gt;CRLF&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;docs/sitemap.xml.
&lt;a id="rest_code_22fecc18e09f43e592968ee9622f0c0c-3" name="rest_code_22fecc18e09f43e592968ee9622f0c0c-3" href="https://note.tt4e.com/posts/sqlite-error-database-disk-image-is-malformed-by-pycharm/#rest_code_22fecc18e09f43e592968ee9622f0c0c-3"&gt;&lt;/a&gt;The&lt;span class="w"&gt; &lt;/span&gt;file&lt;span class="w"&gt; &lt;/span&gt;will&lt;span class="w"&gt; &lt;/span&gt;have&lt;span class="w"&gt; &lt;/span&gt;its&lt;span class="w"&gt; &lt;/span&gt;original&lt;span class="w"&gt; &lt;/span&gt;line&lt;span class="w"&gt; &lt;/span&gt;endings&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="k"&gt;in&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;your&lt;span class="w"&gt; &lt;/span&gt;working&lt;span class="w"&gt; &lt;/span&gt;directory
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;问题原因&lt;/h2&gt;
&lt;p&gt;没有充分证实，但非常有可能是 LF 到 CRLF 的替换损坏了 SQLite 的数据库文件。&lt;/p&gt;
&lt;p&gt;你想问问 PyCharm，你怎么这么蠢？&lt;/p&gt;
&lt;p&gt;PyCharm 可能会说，怪我干什么，我只是个工具！&lt;/p&gt;
&lt;p&gt;但我认为吧，PyCharm 确实有理由识别这是一个数据库文件吧，毕竟你是可以直接打开浏览和处理的。&lt;/p&gt;
&lt;p&gt;好在此处，是之用到 SQLite 作为数据生成的本地缓存，且在 GitHub 上有备份，于是拿了一份下来本地覆盖既修复了。&lt;/p&gt;
&lt;/section&gt;</description><category>PyCharm</category><category>SQLite</category><guid>https://note.tt4e.com/posts/sqlite-error-database-disk-image-is-malformed-by-pycharm/</guid><pubDate>Wed, 13 Dec 2023 13:14:50 GMT</pubDate></item><item><title>The different linesep between codecs open and open in python 3</title><link>https://note.tt4e.com/posts/the-different-linesep-between-codecs-open-and-open-in-python-3/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;文件分隔符之回车换行的故事&lt;/h2&gt;
&lt;p&gt;最初的打字机上，将打字位置 Carriage 从行末移动到行首叫做 Carriage Return，既CR，既回车，将纸张上滚一行，叫做换行 Linefeed。&lt;/p&gt;
&lt;p&gt;来到计算机时代，分别为这两种操作都定义了 ASCII 码&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;ASCII \n: CR，Carriage Return，UNIX 上是行分隔符，newline，取第一个字；macOS 也采用了此换行符；&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ASCII \r: LF，Linefeed，Classic Mac OS 中，文件换行符是这个；&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ASCII \r\n: CRLF，Carriage Return &amp;amp; Linefeed，Windows 最晚出现，为在 Windows 上能显示 Unix 和 Apple Mac OS 文件内容，弄出一个兼容的。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="python"&gt;
&lt;h2&gt;Python 世界的换行&lt;/h2&gt;
&lt;p&gt;为兼容各平台差异，Python 的 os 模块中弄出多个属性来处理，比如&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;linesep 行分隔符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sep 文件路径名分割符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pathsep 文件路径分隔符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;curdir 当前工作目录&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pardir 父目录&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;os 模块是处理好了这件事，但其它模块却不一定。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="python-2"&gt;
&lt;h2&gt;Python 2 的写文件&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;open()，可能最早从 c 语言 fopen 学习的，未考虑编码参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;codecs.open()，支持编码参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;io.open()，支持编码参数的 open()，推荐使用&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="python-3"&gt;
&lt;h2&gt;Python 3 的写文件&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;open()，修正了 Python 2 时代的设计遗漏，支持 encoding 和 newline 参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;codecs.open()，在读写文件时不推荐使用了，且此模块方法在 Windows 下有坑，文件换行符会弄成 LF&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;不同平台的差异随处可见&lt;/h2&gt;
&lt;p&gt;一定程度上反映了，人各有各的思想，分久必合，当人们无法忍受差异时，就会发展为统一。&lt;/p&gt;
&lt;/section&gt;</description><category>linesep</category><category>newline</category><category>python</category><guid>https://note.tt4e.com/posts/the-different-linesep-between-codecs-open-and-open-in-python-3/</guid><pubDate>Wed, 13 Dec 2023 12:01:17 GMT</pubDate></item><item><title>Absolute and Relative Path in Python</title><link>https://note.tt4e.com/posts/absolute-and-relative-path-in-python/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="os-path-isabs"&gt;
&lt;h2&gt;1. os.path.isabs()&lt;/h2&gt;
&lt;p&gt;os.path.isabs() 的行为是：如果路径以 / 开头，或者在非类 Unix 平台上，以盘符跟一个 os.sep 开头，就返回 True；否则，就返回 False&lt;/p&gt;
&lt;p&gt;这里要注意的是在 Windows 上，是支持两种斜线符号的，一种是Windows的斜线，但需要双写以转义 '\'，另一种是类似 Unix 反写 '/'。&lt;/p&gt;
&lt;p&gt;看如下代码，在 Windows 下的返回结果&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code python"&gt;&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-1"&gt;&lt;/a&gt;&lt;span class="n"&gt;Python&lt;/span&gt; &lt;span class="mf"&gt;3.10.6&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;tags&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;v3&lt;/span&gt;&lt;span class="mf"&gt;.10.6&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;9&lt;/span&gt;&lt;span class="n"&gt;c7b4bd&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Aug&lt;/span&gt;  &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="mi"&gt;2022&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;21&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;53&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;49&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;MSC&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="mf"&gt;.1932&lt;/span&gt; &lt;span class="mi"&gt;64&lt;/span&gt; &lt;span class="n"&gt;bit&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AMD64&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt; &lt;span class="n"&gt;on&lt;/span&gt; &lt;span class="n"&gt;win32&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;Type&lt;/span&gt; &lt;span class="s2"&gt;"help"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"copyright"&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s2"&gt;"credits"&lt;/span&gt; &lt;span class="ow"&gt;or&lt;/span&gt; &lt;span class="s2"&gt;"license"&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;more&lt;/span&gt; &lt;span class="n"&gt;information&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-3"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;os&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-4"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-5"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-6"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-7"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-8"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:&lt;/span&gt;&lt;span class="se"&gt;\a&lt;/span&gt;&lt;span class="s1"&gt;bc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="c1"&gt;# 未转义，错误&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-9"&gt;&lt;/a&gt;&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-10"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-11"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-12"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'c:&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-13"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-14"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'&lt;/span&gt;&lt;span class="se"&gt;\\&lt;/span&gt;&lt;span class="s1"&gt;abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-15"&gt;&lt;/a&gt;&lt;span class="kc"&gt;True&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-16"&gt;&lt;/a&gt;&lt;span class="o"&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class="n"&gt;os&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;isabs&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;a id="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17" name="rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_166f5bd2cd434c49b9ac67dce821a6d2-17"&gt;&lt;/a&gt;&lt;span class="kc"&gt;False&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;所以说，实际上这个方法在 Windows 并不好用，试着查看源代码，但实现并不是 Python 的，似乎有 macpath,posixpath,ntpath，但 ntpath 在 Windows 上返回就是上述值。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="pathlib-path-is-absolute-windows"&gt;
&lt;h2&gt;2. pathlib.Path().is_absolute() 在 Windows 上更好用&lt;/h2&gt;
&lt;p&gt;实际上判断是否绝对路径时，应该使用以下代码&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code python"&gt;&lt;a id="rest_code_2a2e527627dd464d9fa0b697dd392e43-1" name="rest_code_2a2e527627dd464d9fa0b697dd392e43-1" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_2a2e527627dd464d9fa0b697dd392e43-1"&gt;&lt;/a&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;pathlib&lt;/span&gt;
&lt;a id="rest_code_2a2e527627dd464d9fa0b697dd392e43-2" name="rest_code_2a2e527627dd464d9fa0b697dd392e43-2" href="https://note.tt4e.com/posts/absolute-and-relative-path-in-python/#rest_code_2a2e527627dd464d9fa0b697dd392e43-2"&gt;&lt;/a&gt;&lt;span class="n"&gt;pathlib&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Path&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s1"&gt;'/abc'&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;is_absolute&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;</description><category>path</category><category>python</category><guid>https://note.tt4e.com/posts/absolute-and-relative-path-in-python/</guid><pubDate>Thu, 07 Dec 2023 00:12:45 GMT</pubDate></item><item><title>SecureCRT 中 Emacs 向上翻页快捷键 Alt+V 失效</title><link>https://note.tt4e.com/posts/securecrt-emacs-alt-v-not-work/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;问题现象&lt;/h2&gt;
&lt;p&gt;无论怎么配置 Options 中 Emacs 的配置，M-v 都无法向上滚屏。&lt;/p&gt;
&lt;p&gt;配置位置：Menu「Options」-&amp;gt; Edit Default Session... -&amp;gt; Dialog「Session Options - Default」 -&amp;gt; Tree「Category」-&amp;gt; Emulation -&amp;gt; Emacs -&amp;gt; CheckBox「Use ALT as meta key」&lt;/p&gt;
&lt;p&gt;尝试修改各相关配置无效。&lt;/p&gt;
&lt;p&gt;尝试搜索关键字，Google 中似乎类似问题很少人问。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;解决方法&lt;/h2&gt;
&lt;p&gt;因为 Google 搜索关键字 SecureCRT Emacs ALT-V 没有类似提问，所以怀疑我的现象是特例 &amp;lt;-- 想到这一点非常重要。&lt;/p&gt;
&lt;p&gt;特例说明，问题产生条件是我独有的，很大可能是我的环境引入的，就是说，不是内因，而是外因，是由于 SecureCRT 之外的程序导致的。&lt;/p&gt;
&lt;p&gt;想到这一点后，我尝试逐个关闭电脑相关程序来排除，终于当我关闭「富途牛牛」时，在 Emacs 中，Alt+V 或说 M-v 生效了，可以成功向上滚动。&lt;/p&gt;
&lt;p&gt;再查看「富途牛牛」的快捷键清单中，是截屏直播的快捷键。同理还有全屏直播 Alt+C，以及快捷键 Ctrl+1，Alt+1 也显示被其他软件占用。&lt;/p&gt;
&lt;p&gt;不知是不是因为富途牛牛的产品经理视角狭隘，或者开发人员用的都是 macOS，要不怎么会设计出这些明显冲突的全局快捷键。&lt;/p&gt;
&lt;/section&gt;</description><category>emacs</category><category>securecrt</category><guid>https://note.tt4e.com/posts/securecrt-emacs-alt-v-not-work/</guid><pubDate>Sat, 02 Dec 2023 00:09:47 GMT</pubDate></item><item><title>EverEdit SFTP Error With FreeBSD</title><link>https://note.tt4e.com/posts/everedit-sftp-error-with-freebsd/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;问题现象&lt;/h2&gt;
&lt;p&gt;EverEdit 4 内置 SFTP 插件连接 FreeBSD 13.2 SSH 时，提示如下:&lt;/p&gt;
&lt;pre class="literal-block"&gt;[23:19:56]:Hostname was found in DNS cache
[23:19:56]:  Trying 192.168.2.81...
[23:19:56]:Adding handle: conn: 0x22356d0cfa0
[23:19:56]:Adding handle: send: 0
[23:19:56]:Adding handle: recv: 0
[23:19:56]:Curl_addHandleToPipeline: length: 1
[23:19:56]:- Conn 1 (0x22356d0cfa0) send_pipe: 1, recv_pipe: 0
[23:19:56]:Connected to 192.168.2.81 (192.168.2.81) port 22 (#1)
[23:19:56]:Failure establishing ssh session
[23:19:56]:Closing connection 1&lt;/pre&gt;
&lt;p&gt;而使用其他 SFTP 客户端是完全正常的。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;解决方法&lt;/h2&gt;
&lt;p&gt;已提交给作者，还没找出解决办法。&lt;/p&gt;
&lt;p&gt;在网上查找说是连接不上 FreeBSD 13.2 的 sftp，可能与 libcurl 有关。&lt;/p&gt;
&lt;p&gt;但还没有时间写代码来调试。&lt;/p&gt;
&lt;p&gt;待ee作者更新后，我再咨询。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="section-3"&gt;
&lt;h2&gt;参考&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://curl.se/libcurl/c/sftpget.html"&gt;https://curl.se/libcurl/c/sftpget.html&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;a class="reference external" href="https://curl-users.cool.haxx.narkive.com/ppppPXNc/curl-sftp-failure-establishing-ssh-session"&gt;https://curl-users.cool.haxx.narkive.com/ppppPXNc/curl-sftp-failure-establishing-ssh-session&lt;/a&gt;&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</description><category>freebsd</category><category>libcurl</category><guid>https://note.tt4e.com/posts/everedit-sftp-error-with-freebsd/</guid><pubDate>Fri, 01 Dec 2023 03:09:38 GMT</pubDate></item><item><title>Taking Notes In Orgmode With Nikola</title><link>https://note.tt4e.com/posts/taking-notes-in-orgmode-with-nikola/</link><dc:creator>逍遥</dc:creator><description>&lt;div id="outline-container-org7a79d88" class="outline-2"&gt;
&lt;h2 id="org7a79d88"&gt;步骤&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-org7a79d88"&gt;
&lt;ol class="org-ol"&gt;
&lt;li&gt;安装 emacs，最新版已内置 Org mode&lt;/li&gt;
&lt;li&gt;安装 nikola&lt;/li&gt;
&lt;li&gt;安装 nikola orgmode 插件，并按插件目录下的 conf.py.sample 修改 conf.py&lt;/li&gt;
&lt;li&gt;开始写笔记&lt;/li&gt;
&lt;/ol&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;new_post&lt;span class="w"&gt; &lt;/span&gt;-f&lt;span class="w"&gt; &lt;/span&gt;orgmode&lt;span class="w"&gt; &lt;/span&gt;-e
&lt;/pre&gt;&lt;/div&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;预览&lt;/li&gt;
&lt;/ol&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;auto&lt;span class="w"&gt; &lt;/span&gt;-a0.0.0.0
&lt;/pre&gt;&lt;/div&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;发布到 GitHub&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;
设置 conf.py
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;GITHUB_SOURCE_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'sources'&lt;/span&gt;
&lt;span class="n"&gt;GITHUB_DEPLOY_BRANCH&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="s1"&gt;'master'&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;
发布
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$&lt;span class="w"&gt; &lt;/span&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;github_deploy
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div id="outline-container-orga75643a" class="outline-2"&gt;
&lt;h2 id="orga75643a"&gt;其他&lt;/h2&gt;
&lt;div class="outline-text-2" id="text-orga75643a"&gt;
&lt;ol class="org-ol"&gt;
&lt;li&gt;修改默认编辑器为 emacs&lt;/li&gt;
&lt;/ol&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;emacs&lt;span class="w"&gt; &lt;/span&gt;~/.profile
&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;EDITOR=emacs
&lt;/pre&gt;&lt;/div&gt;

&lt;ol class="org-ol"&gt;
&lt;li&gt;显示当前 Shell&lt;/li&gt;
&lt;/ol&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;echo $0
&lt;/pre&gt;&lt;/div&gt;


&lt;hr&gt;

&lt;p&gt;
我在房间里洗个澡
同时在思考中国哪个rapper能比我屌
&lt;/p&gt;

&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;</description><category>nikola</category><category>orgmode</category><guid>https://note.tt4e.com/posts/taking-notes-in-orgmode-with-nikola/</guid><pubDate>Thu, 30 Nov 2023 09:34:15 GMT</pubDate></item><item><title>Nikola Tips</title><link>https://note.tt4e.com/posts/nikola-tips/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="nikola-tips"&gt;
&lt;h2&gt;Nikola Tips&lt;/h2&gt;
&lt;section id="nikola-serve"&gt;
&lt;h3&gt;1. Nikola serve 自动刷新的命令行怎么写？&lt;/h3&gt;
&lt;div class="code"&gt;&lt;pre class="code shell"&gt;&lt;a id="rest_code_e65edc90ad874d859b78dbfecd67abb4-1" name="rest_code_e65edc90ad874d859b78dbfecd67abb4-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_e65edc90ad874d859b78dbfecd67abb4-1"&gt;&lt;/a&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;auto
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;即使 &lt;strong&gt;conf.py&lt;/strong&gt; 中已绑定非127.0.0.1的地址，上面的命令也只会在127.0.0.1启动调试。&lt;/p&gt;
&lt;p&gt;没有去看源代码，可能这样实现从安全角度存在一定的合理性。&lt;/p&gt;
&lt;p&gt;如果需要任意主机都能获得访问，可使用 -a 参数指定地址0.0.0.0&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code shell"&gt;&lt;a id="rest_code_1d39d1269db44f6182d7b3b248d26b03-1" name="rest_code_1d39d1269db44f6182d7b3b248d26b03-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_1d39d1269db44f6182d7b3b248d26b03-1"&gt;&lt;/a&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;auto&lt;span class="w"&gt; &lt;/span&gt;-a0.0.0.0
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;section id="nikola-theme-css"&gt;
&lt;h3&gt;2. Nikola Theme 如何定制 css&lt;/h3&gt;
&lt;p&gt;如果在模板中有代码&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code html+mako"&gt;&lt;a id="rest_code_4f8aa68c06f24de6b985e1111b74963f-1" name="rest_code_4f8aa68c06f24de6b985e1111b74963f-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_4f8aa68c06f24de6b985e1111b74963f-1"&gt;&lt;/a&gt;&lt;span class="cp"&gt;%&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;has_custom_css&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;a id="rest_code_4f8aa68c06f24de6b985e1111b74963f-2" name="rest_code_4f8aa68c06f24de6b985e1111b74963f-2" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_4f8aa68c06f24de6b985e1111b74963f-2"&gt;&lt;/a&gt;  &lt;span class="p"&gt;&amp;lt;&lt;/span&gt;&lt;span class="nt"&gt;link&lt;/span&gt; &lt;span class="na"&gt;href&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"/assets/css/custom.css"&lt;/span&gt; &lt;span class="na"&gt;rel&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"stylesheet"&lt;/span&gt; &lt;span class="na"&gt;type&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;"text/css"&lt;/span&gt;&lt;span class="p"&gt;&amp;gt;&lt;/span&gt;
&lt;a id="rest_code_4f8aa68c06f24de6b985e1111b74963f-3" name="rest_code_4f8aa68c06f24de6b985e1111b74963f-3" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_4f8aa68c06f24de6b985e1111b74963f-3"&gt;&lt;/a&gt;&lt;span class="cp"&gt;%&lt;/span&gt;&lt;span class="k"&gt;endif&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;因此，增加 /assets/css/custom.css 文件即可。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="nikola-github"&gt;
&lt;h3&gt;3. Nikola 如何推送到 GitHub&lt;/h3&gt;
&lt;p&gt;先设置好 git 推送&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sh"&gt;&lt;a id="rest_code_d9de9e052e23423bbabb77d76c003fd3-1" name="rest_code_d9de9e052e23423bbabb77d76c003fd3-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_d9de9e052e23423bbabb77d76c003fd3-1"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--global&lt;span class="w"&gt; &lt;/span&gt;--add&lt;span class="w"&gt; &lt;/span&gt;safe.directory&lt;span class="w"&gt; &lt;/span&gt;/usr/home/kaffa/web/note.tt4e.com
&lt;a id="rest_code_d9de9e052e23423bbabb77d76c003fd3-2" name="rest_code_d9de9e052e23423bbabb77d76c003fd3-2" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_d9de9e052e23423bbabb77d76c003fd3-2"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--global&lt;span class="w"&gt; &lt;/span&gt;user.email&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"yourname@tt4e.com"&lt;/span&gt;
&lt;a id="rest_code_d9de9e052e23423bbabb77d76c003fd3-3" name="rest_code_d9de9e052e23423bbabb77d76c003fd3-3" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_d9de9e052e23423bbabb77d76c003fd3-3"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;config&lt;span class="w"&gt; &lt;/span&gt;--global&lt;span class="w"&gt; &lt;/span&gt;user.name&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s2"&gt;"Your Name"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;将以下内容保存为 aio.sh 脚本&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sh"&gt;&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-1" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-1"&gt;&lt;/a&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-2" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-2" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-2"&gt;&lt;/a&gt;&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-3" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-3" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-3"&gt;&lt;/a&gt;&lt;span class="c1"&gt;# nikola output push to github&lt;/span&gt;
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-4" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-4" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-4"&gt;&lt;/a&gt;&lt;span class="nb"&gt;cd&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;~/web/note.tt4e.com/
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-5" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-5" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-5"&gt;&lt;/a&gt;nikola&lt;span class="w"&gt; &lt;/span&gt;build
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-6" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-6" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-6"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;add&lt;span class="w"&gt; &lt;/span&gt;.
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-7" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-7" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-7"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;commit&lt;span class="w"&gt; &lt;/span&gt;-am&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="s1"&gt;'Kaffa'&lt;/span&gt;
&lt;a id="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-8" name="rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-8" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_787f1a3679ad49ccb812d9f4e0a34cf1-8"&gt;&lt;/a&gt;git&lt;span class="w"&gt; &lt;/span&gt;push
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;先 su 到 root 用户，然后运行以下命令，再 su 会当前用户&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sh"&gt;&lt;a id="rest_code_1d02a42272eb47dc861444810555eed1-1" name="rest_code_1d02a42272eb47dc861444810555eed1-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_1d02a42272eb47dc861444810555eed1-1"&gt;&lt;/a&gt;chown&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;kaffa:wheel&lt;span class="w"&gt; &lt;/span&gt;.git
&lt;a id="rest_code_1d02a42272eb47dc861444810555eed1-2" name="rest_code_1d02a42272eb47dc861444810555eed1-2" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_1d02a42272eb47dc861444810555eed1-2"&gt;&lt;/a&gt;chmod&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;&lt;span class="m"&gt;777&lt;/span&gt;&lt;span class="w"&gt; &lt;/span&gt;./aio.sh
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;如果遇到错误提示 Unable to create ** /.git/index.lock: Permission denied，则需要&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code sh"&gt;&lt;a id="rest_code_dc717a3849404bce875db4479bcbf8f3-1" name="rest_code_dc717a3849404bce875db4479bcbf8f3-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_dc717a3849404bce875db4479bcbf8f3-1"&gt;&lt;/a&gt;chown&lt;span class="w"&gt; &lt;/span&gt;-R&lt;span class="w"&gt; &lt;/span&gt;kaffa:wheel&lt;span class="w"&gt; &lt;/span&gt;.git
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中 用户名和所属组，可以用 groups 命令查看。&lt;/p&gt;
&lt;p&gt;完成书上步骤后，则每次可以运行 aio.sh 来推送 GitHub，GitHub 收到推送后，会使用 GitHub Action 来处理发布。&lt;/p&gt;
&lt;p&gt;使用以上方法是有效的，但却说明没有认真读 nikola 文档。&lt;/p&gt;
&lt;section id="nikola-github-1"&gt;
&lt;h4&gt;Nikola 官方支持推送到 GitHub&lt;/h4&gt;
&lt;p&gt;&lt;a class="reference external" href="https://getnikola.com/handbook.html#toc-entry-60"&gt;官方文档&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;解释一下：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;GITHUB_DEPLOY_BRANCH：发布分支，是 Nikola 产生的 HTML 文件，建议命名为 src。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GITHUB_SOURCE_BRANCH：源码分支，建议在 GitHub 上设置为默认分支，建议命名为 main，而不是 master &lt;a class="footnote-reference brackets" href="https://note.tt4e.com/posts/nikola-tips/#fn1" id="footnote-reference-1" role="doc-noteref"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;1&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/a&gt;。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GITHUB_REMOTE_NAME：远程仓库名；&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;GITHUB_COMMIT_SOURCE：True，发布时会自动提交 src 分支。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;补充：&lt;/p&gt;
&lt;p&gt;采用这种方法时，Github Pages 的 Build and deployment 一节，source 下拉框中，要选择 Deploy from a branch，而不是 GitHub Actions。&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_88a550dd602f4e888f6d966c41915c7e-1" name="rest_code_88a550dd602f4e888f6d966c41915c7e-1" href="https://note.tt4e.com/posts/nikola-tips/#rest_code_88a550dd602f4e888f6d966c41915c7e-1"&gt;&lt;/a&gt;nikola github_deploy
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;/section&gt;
&lt;section id="section-1"&gt;
&lt;h2&gt;脚注&lt;/h2&gt;
&lt;aside class="footnote-list brackets"&gt;
&lt;aside class="footnote brackets" id="fn1" role="doc-footnote"&gt;
&lt;span class="label"&gt;&lt;span class="fn-bracket"&gt;[&lt;/span&gt;&lt;a role="doc-backlink" href="https://note.tt4e.com/posts/nikola-tips/#footnote-reference-1"&gt;1&lt;/a&gt;&lt;span class="fn-bracket"&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;p&gt;master：类似 master，slave 这样带有种族歧视色彩的词，在编程世界中将不再继续使用，现有使用也逐步 &lt;a class="reference external" href="https://github.com/github/renaming"&gt;重命名&lt;/a&gt;。&lt;/p&gt;
&lt;/aside&gt;
&lt;/aside&gt;
&lt;/section&gt;</description><category>nikola</category><guid>https://note.tt4e.com/posts/nikola-tips/</guid><pubDate>Mon, 27 Nov 2023 11:34:15 GMT</pubDate></item><item><title>「'ssh'不是内部或外部命令，也不是可运行的程序或批处理文件」的解决方法</title><link>https://note.tt4e.com/posts/ssh-is-not-recognized-as-an-internal-or-external-command/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;问题现象&lt;/h2&gt;
&lt;p&gt;当在 &lt;a class="reference external" href="https://github.com/microsoft/terminal"&gt;Windows Terminal&lt;/a&gt; 中运行 &lt;em&gt;ssh&lt;/em&gt; 命令时，终端中提示：&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_e92b00248e81438e96d1eea562a006ec-1" name="rest_code_e92b00248e81438e96d1eea562a006ec-1" href="https://note.tt4e.com/posts/ssh-is-not-recognized-as-an-internal-or-external-command/#rest_code_e92b00248e81438e96d1eea562a006ec-1"&gt;&lt;/a&gt;'ssh'不是内部或外部命令，也不是可运行的程序或批处理文件
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;English Version&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_73ccfa5fcd594f1280210654629d304f-1" name="rest_code_73ccfa5fcd594f1280210654629d304f-1" href="https://note.tt4e.com/posts/ssh-is-not-recognized-as-an-internal-or-external-command/#rest_code_73ccfa5fcd594f1280210654629d304f-1"&gt;&lt;/a&gt;'ssh' is not recognized as an internal or external command, operable program or batch file.
&lt;/pre&gt;&lt;/div&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;解决方法&lt;/h2&gt;
&lt;p&gt;在 Windows 设置中安装 OpenSSH 客户端，且在环境变量 PATH 中加入：&lt;/p&gt;
&lt;div class="code"&gt;&lt;pre class="code text"&gt;&lt;a id="rest_code_cc6fc35191c142b39292dce0fa1c8992-1" name="rest_code_cc6fc35191c142b39292dce0fa1c8992-1" href="https://note.tt4e.com/posts/ssh-is-not-recognized-as-an-internal-or-external-command/#rest_code_cc6fc35191c142b39292dce0fa1c8992-1"&gt;&lt;/a&gt;C:\Windows\System32\OpenSSH
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;验证方法：检查以上目录中是否有 ssh.exe 文件。&lt;/p&gt;
&lt;/section&gt;</description><category>openssh</category><category>ssh</category><guid>https://note.tt4e.com/posts/ssh-is-not-recognized-as-an-internal-or-external-command/</guid><pubDate>Mon, 27 Nov 2023 05:17:12 GMT</pubDate></item><item><title>Threads and Async in Python</title><link>https://note.tt4e.com/posts/threads-and-async-in-python/</link><dc:creator>逍遥</dc:creator><description>&lt;pre class="literal-block"&gt;『专家程序员经历多，遇到的坑也多。面对线程的话题，TA 们多半会说：线程很糟糕，你永远不应该使用它们。』&lt;/pre&gt;
&lt;section id="section-1"&gt;
&lt;h2&gt;异步的结构&lt;/h2&gt;
&lt;p&gt;在 Python 中，不适合重量级使用线程。现在更适合使用异步模式，所涉及的库是 asyncio。&lt;/p&gt;
&lt;p&gt;asyncio 的结构如下：&lt;/p&gt;
&lt;table class="table is-bordered"&gt;
&lt;thead&gt;
&lt;tr&gt;&lt;th class="head"&gt;&lt;p&gt;层级&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;概念&lt;/p&gt;&lt;/th&gt;
&lt;th class="head"&gt;&lt;p&gt;实现&lt;/p&gt;&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;9&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;网络：流&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;StreamReader, StreamWriter, asyncio.open_connection(), asyncio.start_server()&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;8&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;网络：TCP/UDP&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;Protocol&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;7&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;网络：传输&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;BaseTransport&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;6&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;工具&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;asyncio.Queue&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;5&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;子进程和线程&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;run_in_executor(), asyncio.subprocess&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;4&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;任务&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;asyncio.Task, asyncio.create_task()&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;3&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;未来对象&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;asyncio.Future&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;2&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;事件循环&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;asyncio.run(), BaseEventLoop&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;&lt;td&gt;&lt;p&gt;1&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;协程&lt;/p&gt;&lt;/td&gt;
&lt;td&gt;&lt;p&gt;async def, async with, async for, await&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/section&gt;</description><category>asyncio</category><guid>https://note.tt4e.com/posts/threads-and-async-in-python/</guid><pubDate>Sat, 25 Nov 2023 21:56:23 GMT</pubDate></item><item><title>SecureCRT 中 Emacs 或 Vim 方向键变成 ABCD 的解决方法</title><link>https://note.tt4e.com/posts/solution-to-arrow-keys-changed-into-abcd-in-securecrt-emacs-vim/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;问题现象&lt;/h2&gt;
&lt;p&gt;在 SecureCRT 中使用 Emacs 或 Vim 方向键变成 ABCD，看起来是键盘的模式导致的。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;解决方法&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;打开菜单 Options -&amp;gt; Edit Default Session...&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;在打开的窗口 Session Options - Default 中，点击左侧 Terminal -&amp;gt; Emulation -&amp;gt; Modes&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;右侧的 Emulation Modes 下，Numeric keypad 和 Application keypad 单选框组中，选择 Application keypad。&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;保存&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;</description><category>securecrt</category><guid>https://note.tt4e.com/posts/solution-to-arrow-keys-changed-into-abcd-in-securecrt-emacs-vim/</guid><pubDate>Fri, 24 Nov 2023 23:25:01 GMT</pubDate></item></channel></rss>