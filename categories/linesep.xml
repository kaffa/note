<?xml version="1.0" encoding="utf-8"?>
<?xml-stylesheet type="text/xsl" href="../assets/xml/rss.xsl" media="all"?><rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>琅環笔记 (关于 linesep 的文章)</title><link>https://note.tt4e.com/</link><description></description><atom:link href="https://note.tt4e.com/categories/linesep.xml" rel="self" type="application/rss+xml"></atom:link><language>zh_cn</language><copyright>Contents © 2024 &lt;a href="mailto:xiaoyao@tt4e.com"&gt;逍遥&lt;/a&gt; </copyright><lastBuildDate>Sat, 20 Jan 2024 15:52:36 GMT</lastBuildDate><generator>Nikola (getnikola.com)</generator><docs>http://blogs.law.harvard.edu/tech/rss</docs><item><title>The different linesep between codecs open and open in python 3</title><link>https://note.tt4e.com/posts/the-different-linesep-between-codecs-open-and-open-in-python-3/</link><dc:creator>逍遥</dc:creator><description>&lt;section id="section-1"&gt;
&lt;h2&gt;文件分隔符之回车换行的故事&lt;/h2&gt;
&lt;p&gt;最初的打字机上，将打字位置 Carriage 从行末移动到行首叫做 Carriage Return，既CR，既回车，将纸张上滚一行，叫做换行 Linefeed。&lt;/p&gt;
&lt;p&gt;来到计算机时代，分别为这两种操作都定义了 ASCII 码&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;ASCII \n: CR，Carriage Return，UNIX 上是行分隔符，newline，取第一个字；macOS 也采用了此换行符；&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ASCII \r: LF，Linefeed，Classic Mac OS 中，文件换行符是这个；&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;ASCII \r\n: CRLF，Carriage Return &amp;amp; Linefeed，Windows 最晚出现，为在 Windows 上能显示 Unix 和 Apple Mac OS 文件内容，弄出一个兼容的。&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="python"&gt;
&lt;h2&gt;Python 世界的换行&lt;/h2&gt;
&lt;p&gt;为兼容各平台差异，Python 的 os 模块中弄出多个属性来处理，比如&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;p&gt;linesep 行分隔符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;sep 文件路径名分割符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pathsep 文件路径分隔符&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;curdir 当前工作目录&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;pardir 父目录&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;os 模块是处理好了这件事，但其它模块却不一定。&lt;/p&gt;
&lt;/section&gt;
&lt;section id="python-2"&gt;
&lt;h2&gt;Python 2 的写文件&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;open()，可能最早从 c 语言 fopen 学习的，未考虑编码参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;codecs.open()，支持编码参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;io.open()，支持编码参数的 open()，推荐使用&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="python-3"&gt;
&lt;h2&gt;Python 3 的写文件&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;p&gt;open()，修正了 Python 2 时代的设计遗漏，支持 encoding 和 newline 参数&lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;codecs.open()，在读写文件时不推荐使用了，且此模块方法在 Windows 下有坑，文件换行符会弄成 LF&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/section&gt;
&lt;section id="section-2"&gt;
&lt;h2&gt;不同平台的差异随处可见&lt;/h2&gt;
&lt;p&gt;一定程度上反映了，人各有各的思想，分久必合，当人们无法忍受差异时，就会发展为统一。&lt;/p&gt;
&lt;/section&gt;</description><category>linesep</category><category>newline</category><category>python</category><guid>https://note.tt4e.com/posts/the-different-linesep-between-codecs-open-and-open-in-python-3/</guid><pubDate>Wed, 13 Dec 2023 12:01:17 GMT</pubDate></item></channel></rss>